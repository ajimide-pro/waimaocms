(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e383cb0"],{"0da3":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("b775");function o(e){return Object(i["a"])({url:"/fanyibaidu/translate",method:"post",data:e})}},"1aba":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-input__component",class:e.computedClasses},[a("div",{class:{iconClass:e.icon}},[e.icon?a("i",{staticClass:"el-input__icon material-input__icon",class:["el-icon-"+e.icon]}):e._e(),"email"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"email"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"url"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"url"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"number"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,step:e.step,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"number"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"password"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,required:e.required,type:"password"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"tel"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"tel"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"text"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"text"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),a("span",{staticClass:"material-input-bar"}),a("label",{staticClass:"material-label"},[e._t("default")],2)])])},o=[],l=(a("a9e3"),{name:"MdInput",props:{icon:String,name:String,type:{type:String,default:"text"},value:[String,Number],placeholder:String,readonly:Boolean,disabled:Boolean,min:String,max:String,step:String,minlength:Number,maxlength:Number,required:{type:Boolean,default:!0},autoComplete:{type:String,default:"off"},validateEvent:{type:Boolean,default:!0}},data:function(){return{currentValue:this.value,focus:!1,fillPlaceHolder:null}},computed:{computedClasses:function(){return{"material--active":this.focus,"material--disabled":this.disabled,"material--raised":Boolean(this.focus||this.currentValue)}}},watch:{value:function(e){this.currentValue=e}},methods:{handleModelInput:function(e){var t=e.target.value;this.$emit("input",t),"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.change",[t]),this.$emit("change",t)},handleMdFocus:function(e){this.focus=!0,this.$emit("focus",e),this.placeholder&&""!==this.placeholder&&(this.fillPlaceHolder=this.placeholder)},handleMdBlur:function(e){this.focus=!1,this.$emit("blur",e),this.fillPlaceHolder=null,"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.blur",[this.currentValue])}}}),n=l,s=(a("49b7"),a("2877")),r=Object(s["a"])(n,i,o,!1,null,"9d7baaf6",null);t["a"]=r.exports},"1f5f":function(e,t,a){"use strict";a("dd2d")},4381:function(e,t,a){"use strict";a("caad"),a("2532");var i=a("4360");function o(e,t){var a=t.value,o=i["a"].getters&&i["a"].getters.roles;if(!(a&&a instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(a.length>0){var l=a,n=o.some((function(e){return l.includes(e)}));n||e.parentNode&&e.parentNode.removeChild(e)}}var l={inserted:function(e,t){o(e,t)},update:function(e,t){o(e,t)}},n=function(e){e.directive("permission",l)};window.Vue&&(window["permission"]=l,Vue.use(n)),l.install=n;t["a"]=l},"49b7":function(e,t,a){"use strict";a("6312")},"5bfa":function(e,t,a){"use strict";a("6ff6")},6312:function(e,t,a){},"6ff6":function(e,t,a){},"70a2":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-container"},[a("el-upload",{staticClass:"image-uploader",attrs:{data:e.dataObj,multiple:!1,"show-file-list":!1,"on-success":e.handleImageSuccess,drag:"",action:"https://httpbin.org/post"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),a("em",[e._v("点击上传")])])]),a("div",{staticClass:"image-preview image-app-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:e.imageUrl}}),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])]),a("div",{staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:e.imageUrl}}),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])])],1)},o=[],l=(a("d3b7"),a("b775"));function n(){return Object(l["a"])({url:"/qiniu/upload/token",method:"get"})}var s={name:"SingleImageUpload3",props:{value:{type:String,default:""}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value}},methods:{rmImage:function(){this.emitInput("")},emitInput:function(e){this.$emit("input",e)},handleImageSuccess:function(e){this.emitInput(e.files.file)},beforeUpload:function(){var e=this,t=this;return new Promise((function(a,i){n().then((function(i){var o=i.data.qiniu_key,l=i.data.qiniu_token;t._data.dataObj.token=l,t._data.dataObj.key=o,e.tempUrl=i.data.qiniu_url,a(!0)})).catch((function(e){console.log(e),i(!1)}))}))}}},r=s,c=(a("1f5f"),a("2877")),u=Object(c["a"])(r,i,o,!1,null,"51598cb2",null);t["a"]=u.exports},"729a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"erdai-container"},[a("el-row",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("网站配置")])]),a("div",[a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:e.postForm,rules:e.rules}},[a("div",{staticClass:"createPost-main-container"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"title",label:"网站标题"}},[a("MDinput",{attrs:{maxlength:100,name:"title",required:"",placeholder:" 例如：关键词-关键词-关键词-公司名称"},model:{value:e.postForm.title,callback:function(t){e.$set(e.postForm,"title",t)},expression:"postForm.title"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"keyword",label:"SEO 关键词"}},[a("MDinput",{attrs:{maxlength:150,name:"keyword",required:"",placeholder:" 例如：关键词，关键词，关键词"},model:{value:e.postForm.keyword,callback:function(t){e.$set(e.postForm,"keyword",t)},expression:"postForm.keyword"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"description",label:"SEO 描述"}},[a("MDinput",{attrs:{maxlength:150,name:"description",required:"",placeholder:" 一段通顺的话，例如：XX公司是一家专业的XX公司，专业生产和销售关键词，关键词，关键词等商品和服务，联系电话：XXXX。"},model:{value:e.postForm.description,callback:function(t){e.$set(e.postForm,"description",t)},expression:"postForm.description"}})],1),a("div",{staticClass:"postInfo-container"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"88px",label:"网站备案号:"}},[a("MDinput",{staticStyle:{"margin-top":"0px"},attrs:{placeholder:""},model:{value:e.postForm.icpnumber,callback:function(t){e.$set(e.postForm,"icpnumber",t)},expression:"postForm.icpnumber"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"网站状态:"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.postForm.open,callback:function(t){e.$set(e.postForm,"open",t)},expression:"postForm.open"}},[e._v("开启")]),a("el-radio",{attrs:{label:"0"},model:{value:e.postForm.open,callback:function(t){e.$set(e.postForm,"open",t)},expression:"postForm.open"}},[e._v("关闭")])],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"120px",label:"网站关闭提示:"}},[a("MDinput",{staticStyle:{"margin-top":"0px"},attrs:{placeholder:""},model:{value:e.postForm.close_text,callback:function(t){e.$set(e.postForm,"close_text",t)},expression:"postForm.close_text"}})],1)],1)],1)],1),a("div",{staticClass:"postInfo-container"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"在线下单:"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.postForm.order_open,callback:function(t){e.$set(e.postForm,"order_open",t)},expression:"postForm.order_open"}},[e._v("开启")]),a("el-radio",{attrs:{label:"0"},model:{value:e.postForm.order_open,callback:function(t){e.$set(e.postForm,"order_open",t)},expression:"postForm.order_open"}},[e._v("关闭")])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"120px",label:"在线留言:"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.postForm.message_open,callback:function(t){e.$set(e.postForm,"message_open",t)},expression:"postForm.message_open"}},[e._v("开启")]),a("el-radio",{attrs:{label:"0"},model:{value:e.postForm.message_open,callback:function(t){e.$set(e.postForm,"message_open",t)},expression:"postForm.message_open"}},[e._v("关闭")])],1)],1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"logo",label:"网站 LOGO:"}},[a("Upload",{model:{value:e.postForm.logo,callback:function(t){e.$set(e.postForm,"logo",t)},expression:"postForm.logo"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"120px",label:"网站HTML代码:"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"如：网站统计代码等"},model:{value:e.postForm.html,callback:function(t){e.$set(e.postForm,"html",t)},expression:"postForm.html"}})],1)],1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{label:"前端页面默认语言"}},[e._l(e.lang_list,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id},model:{value:e.postForm.index_lang,callback:function(t){e.$set(e.postForm,"index_lang",t)},expression:"postForm.index_lang"}},[e._v(" "+e._s(t.title))])})),a("div",{staticClass:"myinfo"},[e._v("用户输入顶级域名默认展示的网站语言")])],2),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{label:"自动识别用户国家"}},[e._l(e.auto_area,(function(t){return a("el-radio",{key:t.id,attrs:{label:t.id},model:{value:e.postForm.auto_area,callback:function(t){e.$set(e.postForm,"auto_area",t)},expression:"postForm.auto_area"}},[e._v(" "+e._s(t.title))])})),a("div",{staticClass:"myinfo"},[e._v("开启后，页面默认语言设置将失效")])],2),a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"permission",rawName:"v-permission",value:["edit"],expression:"['edit']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.submitForm}},[e._v(" 保存 ")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"warning"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["fanyi"],expression:"['fanyi']"}],attrs:{type:"info"},on:{click:e.fanyi}},[e._v("翻译")])],1)],1)])],1)])])],1),a("el-dialog",{attrs:{title:"自动翻译",visible:e.fanyi_dialogFormVisible},on:{"update:visible":function(t){e.fanyi_dialogFormVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"当前页面语言:"}},[e._v(" "+e._s(e.thislang)+" ")]),a("el-form-item",{attrs:{label:"要翻译的语言:"}},[a("el-checkbox-group",{attrs:{max:3},on:{change:e.handleCheckedCitiesChange},model:{value:e.tolanglist,callback:function(t){e.tolanglist=t},expression:"tolanglist"}},e._l(e.lang_list_check,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.title}},[e._v(e._s(t.title))])})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.fanyi_dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.fanyi_loading,expression:"fanyi_loading"}],attrs:{type:"primary"},on:{click:e.fanyi_ok}},[e._v("确 定")])],1)],1)],1)},o=[],l=a("ade3"),n=a("70a2"),s=a("1aba"),r=a("b804"),c=a("4381"),u=a("90e7"),d=a("0da3"),m=a("a78e"),p=a.n(m),h={status:"draft",title:"",keyword:"",description:"",open:"1",logo:"",auto_area:0,index_lang:"",html:"",message_open:"1",order_open:"1"},f={name:"ArticleDetail",components:{MDinput:s["a"],Upload:n["a"],Sticky:r["a"]},directives:{permission:c["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){var e,t=this,a=function(e,a,i){""===a?(t.$message({message:e.field+"必须填写",type:"error"}),i(new Error(e.field+"必须填写"))):i()};return e={fanyi_loading:!1,lang_list_check_to:[],isIndeterminate:!0,lang_list:[],lang_list_check:[],tolanglist:[],tolang:"",thislang:"",fanyi_dialogFormVisible:!1},Object(l["a"])(e,"lang_list",[]),Object(l["a"])(e,"auto_area",[{title:"关闭",id:0},{title:"识别国内国外",id:1},{title:"识别单个国家",id:2}]),Object(l["a"])(e,"postForm",Object.assign({},h)),Object(l["a"])(e,"loading",!1),Object(l["a"])(e,"userListOptions",[]),Object(l["a"])(e,"rules",{logo:[{validator:a}],title:[{validator:a}],keyword:[{validator:a}],description:[{validator:a}]}),Object(l["a"])(e,"tempRoute",{}),e},computed:{contentShortLength:function(){return this.postForm.content_short.length},displayTime:{get:function(){return+new Date(this.postForm.display_time)},set:function(e){this.postForm.display_time=new Date(e)}}},created:function(){this.siteinfo_get(),this.lang_list=document.lang_list;var e=p.a.get("language");if(e&&""!=e)for(var t=0,a=0;a<this.lang_list.length;a++)e==this.lang_list[a].lang?this.thislang=this.lang_list[a].title:(this.lang_list_check[t]=this.lang_list[a],t++);this.tempRoute=Object.assign({},this.$route)},methods:{handleCheckedCitiesChange:function(e){this.tolanglist=e,console.log(e)},fanyi_ok:function(){for(var e=this,t=0,a=0;a<this.lang_list.length;a++)this.tolanglist.indexOf(this.lang_list[a].title)>=0&&(this.lang_list_check_to[t]=this.lang_list[a].lang,t++);if(console.log(this.lang_list_check_to),this.lang_list_check_to.length<="0")return this.$notify({title:"错误",message:"请先选择要翻译的语言",type:"error",duration:2e3}),!1;this.fanyi_loading=!0,Object(d["a"])({q:"",to:"ru",from:p.a.get("language"),action:"siteinfo",tolanglist:this.lang_list_check_to,id:""}).then((function(t){e.$notify({title:"操作成功",message:t.data,type:"success",duration:3e3}),e.fanyi_loading=!1,e.fanyi_dialogFormVisible=!1})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3}),e.fanyi_loading=!1}))},fanyi:function(){this.fanyi_dialogFormVisible=!0},back:function(){this.$router.go(-1)},siteinfo_get:function(){var e=this;Object(u["b"])("",2).then((function(t){e.postForm=t.data,e.postForm.status="draft"})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3})}))},submitForm:function(){var e=this;console.log(this.postForm),this.$refs.postForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,Object(u["a"])(e.postForm,"2").then((function(t){e.postForm.status="published",e.loading=!1,e.$notify({title:"操作成功",message:t.msg,type:"success",duration:2e3}),e.siteinfo_get()})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3}),e.loading=!1}))}))},draftForm:function(){0!==this.postForm.content.length&&0!==this.postForm.title.length?(this.$message({message:"保存成功",type:"success",showClose:!0,duration:1e3}),this.postForm.status="draft"):this.$message({message:"请填写必要的标题和内容",type:"warning"})}}},g=f,v=(a("5bfa"),a("2877")),b=Object(v["a"])(g,i,o,!1,null,"4c8d2c8f",null);t["default"]=b.exports},b804:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[a("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[a("div",[e._v("sticky")])])],2)])},o=[],l=(a("a9e3"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),n=l,s=a("2877"),r=Object(s["a"])(n,i,o,!1,null,null,null);t["a"]=r.exports},dd2d:function(e,t,a){}}]);