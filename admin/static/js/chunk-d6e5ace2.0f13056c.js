(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6e5ace2"],{"0da3":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("b775");function n(e){return Object(a["a"])({url:"/fanyibaidu/translate",method:"post",data:e})}},"1aba":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"material-input__component",class:e.computedClasses},[i("div",{class:{iconClass:e.icon}},[e.icon?i("i",{staticClass:"el-input__icon material-input__icon",class:["el-icon-"+e.icon]}):e._e(),"email"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"email"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"url"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"url"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"number"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,step:e.step,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"number"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"password"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,max:e.max,min:e.min,required:e.required,type:"password"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"tel"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,required:e.required,type:"tel"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),"text"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"material-input",attrs:{name:e.name,placeholder:e.fillPlaceHolder,readonly:e.readonly,disabled:e.disabled,autocomplete:e.autoComplete,minlength:e.minlength,maxlength:e.maxlength,required:e.required,type:"text"},domProps:{value:e.currentValue},on:{focus:e.handleMdFocus,blur:e.handleMdBlur,input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}}):e._e(),i("span",{staticClass:"material-input-bar"}),i("label",{staticClass:"material-label"},[e._t("default")],2)])])},n=[],l=(i("a9e3"),{name:"MdInput",props:{icon:String,name:String,type:{type:String,default:"text"},value:[String,Number],placeholder:String,readonly:Boolean,disabled:Boolean,min:String,max:String,step:String,minlength:Number,maxlength:Number,required:{type:Boolean,default:!0},autoComplete:{type:String,default:"off"},validateEvent:{type:Boolean,default:!0}},data:function(){return{currentValue:this.value,focus:!1,fillPlaceHolder:null}},computed:{computedClasses:function(){return{"material--active":this.focus,"material--disabled":this.disabled,"material--raised":Boolean(this.focus||this.currentValue)}}},watch:{value:function(e){this.currentValue=e}},methods:{handleModelInput:function(e){var t=e.target.value;this.$emit("input",t),"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.change",[t]),this.$emit("change",t)},handleMdFocus:function(e){this.focus=!0,this.$emit("focus",e),this.placeholder&&""!==this.placeholder&&(this.fillPlaceHolder=this.placeholder)},handleMdBlur:function(e){this.focus=!1,this.$emit("blur",e),this.fillPlaceHolder=null,"ElFormItem"===this.$parent.$options.componentName&&this.validateEvent&&this.$parent.$emit("el.form.blur",[this.currentValue])}}}),s=l,o=(i("49b7"),i("2877")),r=Object(o["a"])(s,a,n,!1,null,"9d7baaf6",null);t["a"]=r.exports},"1f5f":function(e,t,i){"use strict";i("dd2d")},4381:function(e,t,i){"use strict";i("caad"),i("2532");var a=i("4360");function n(e,t){var i=t.value,n=a["a"].getters&&a["a"].getters.roles;if(!(i&&i instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(i.length>0){var l=i,s=n.some((function(e){return l.includes(e)}));s||e.parentNode&&e.parentNode.removeChild(e)}}var l={inserted:function(e,t){n(e,t)},update:function(e,t){n(e,t)}},s=function(e){e.directive("permission",l)};window.Vue&&(window["permission"]=l,Vue.use(s)),l.install=s;t["a"]=l},4614:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"erdai-container"},[i("el-row",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("系统配置")])]),i("div",[i("div",{staticClass:"createPost-container"},[i("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:e.postForm,rules:e.rules}},[i("div",{staticClass:"createPost-main-container"},[i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"title",label:"系统名称"}},[i("MDinput",{attrs:{maxlength:100,name:"title",required:"",placeholder:" 例如：XXX管理系统"},model:{value:e.postForm.title,callback:function(t){e.$set(e.postForm,"title",t)},expression:"postForm.title"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"logo",label:"系统 LOGO:"}},[i("Upload",{model:{value:e.postForm.logo,callback:function(t){e.$set(e.postForm,"logo",t)},expression:"postForm.logo"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{"label-width":"120px",label:"底部版权声明HTML代码:"}},[i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"如：网站统计代码、版权声明等"},model:{value:e.postForm.html,callback:function(t){e.$set(e.postForm,"html",t)},expression:"postForm.html"}})],1)],1)],1),i("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"cdn",label:"全局缓存时间"}},[i("MDinput",{attrs:{maxlength:150,name:"cachetime",required:"",placeholder:"请填写全局缓存时间，建议1800"},model:{value:e.postForm.cachetime,callback:function(t){e.$set(e.postForm,"cachetime",t)},expression:"postForm.cachetime"}},[i("div",{staticClass:"myinfo"},[e._v("单位：秒，数值越大，系统负载越小，但是部分数据展示延迟越长！")])])],1),i("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"cdn",label:"系统域名"}},[i("MDinput",{attrs:{maxlength:150,name:"cdn",required:"",placeholder:"请填写后台所用的域名"},model:{value:e.postForm.cdn,callback:function(t){e.$set(e.postForm,"cdn",t)},expression:"postForm.cdn"}},[i("div",{staticClass:"myinfo"},[e._v("此域名需要绑定在网站根目录下")])])],1),i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"permission",rawName:"v-permission",value:["edit"],expression:"['edit']"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.submitForm}},[e._v(" 保存 ")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"warning"},on:{click:e.back}},[e._v(" 返回 ")]),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["fanyi"],expression:"['fanyi']"}],attrs:{type:"info"},on:{click:e.fanyi}},[e._v("翻译")])],1)],1)])],1)])])],1),i("el-dialog",{attrs:{title:"自动翻译",visible:e.fanyi_dialogFormVisible},on:{"update:visible":function(t){e.fanyi_dialogFormVisible=t}}},[i("el-form",[i("el-form-item",{attrs:{label:"当前页面语言:"}},[e._v(" "+e._s(e.thislang)+" ")]),i("el-form-item",{attrs:{label:"要翻译的语言:"}},[i("el-checkbox-group",{attrs:{max:3},on:{change:e.handleCheckedCitiesChange},model:{value:e.tolanglist,callback:function(t){e.tolanglist=t},expression:"tolanglist"}},e._l(e.lang_list_check,(function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.title}},[e._v(e._s(t.title))])})),1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.fanyi_dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.fanyi_loading,expression:"fanyi_loading"}],attrs:{type:"primary"},on:{click:e.fanyi_ok}},[e._v("确 定")])],1)],1)],1)},n=[],l=i("70a2"),s=i("1aba"),o=i("b804"),r=i("4381"),c=i("90e7"),u=i("0da3"),d=i("a78e"),m=i.n(d),p={status:"draft",title:"",cdn:"",keyword:"",description:"",open:"1",logo:"",cachetime:0,html:""},h={name:"ArticleDetail",components:{MDinput:s["a"],Upload:l["a"],Sticky:o["a"]},directives:{permission:r["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){var e=this,t=function(t,i,a){""===i?(e.$message({message:t.field+"必须填写",type:"error"}),a(new Error(t.field+"必须填写"))):a()};return{fanyi_loading:!1,lang_list_check_to:[],isIndeterminate:!0,lang_list:[],lang_list_check:[],tolanglist:[],tolang:"",thislang:"",fanyi_dialogFormVisible:!1,postForm:Object.assign({},p),loading:!1,userListOptions:[],rules:{logo:[{validator:t}],title:[{validator:t}],keyword:[{validator:t}],description:[{validator:t}]},tempRoute:{}}},computed:{contentShortLength:function(){return this.postForm.content_short.length},displayTime:{get:function(){return+new Date(this.postForm.display_time)},set:function(e){this.postForm.display_time=new Date(e)}}},created:function(){this.systeminfo_get(),this.lang_list=document.lang_list;var e=m.a.get("language");if(e&&""!=e)for(var t=0,i=0;i<this.lang_list.length;i++)e==this.lang_list[i].lang?this.thislang=this.lang_list[i].title:(this.lang_list_check[t]=this.lang_list[i],t++);this.tempRoute=Object.assign({},this.$route)},methods:{handleCheckedCitiesChange:function(e){this.tolanglist=e,console.log(e)},fanyi_ok:function(){for(var e=this,t=0,i=0;i<this.lang_list.length;i++)this.tolanglist.indexOf(this.lang_list[i].title)>=0&&(this.lang_list_check_to[t]=this.lang_list[i].lang,t++);if(console.log(this.lang_list_check_to),this.lang_list_check_to.length<="0")return this.$notify({title:"错误",message:"请先选择要翻译的语言",type:"error",duration:2e3}),!1;this.fanyi_loading=!0,Object(u["a"])({q:"",to:"ru",from:m.a.get("language"),action:"systeminfo",tolanglist:this.lang_list_check_to,id:""}).then((function(t){e.$notify({title:"操作成功",message:t.data,type:"success",duration:3e3}),e.fanyi_loading=!1,e.fanyi_dialogFormVisible=!1})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3}),e.fanyi_loading=!1}))},fanyi:function(){this.fanyi_dialogFormVisible=!0},back:function(){this.$router.go(-1)},systeminfo_get:function(){var e=this;console.log("11111111111"),Object(c["d"])().then((function(t){e.postForm=t.data,e.postForm.status="draft"})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3})}))},submitForm:function(){var e=this;console.log(this.postForm),this.$refs.postForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,Object(c["c"])(e.postForm,"1").then((function(t){e.postForm.status="published",e.loading=!1,e.$notify({title:"操作成功",message:t.msg,type:"success",duration:2e3}),e.systeminfo_get()})).catch((function(t){e.$notify({title:"错误",message:t.msg,type:"error",duration:2e3}),e.loading=!1}))}))},draftForm:function(){0!==this.postForm.title.length?(this.$message({message:"保存成功",type:"success",showClose:!0,duration:1e3}),this.postForm.status="draft"):this.$message({message:"请填写必要的标题和内容",type:"warning"})}}},g=h,f=(i("f390"),i("2877")),v=Object(f["a"])(g,a,n,!1,null,"19f4b7f4",null);t["default"]=v.exports},"49b7":function(e,t,i){"use strict";i("6312")},6312:function(e,t,i){},"70a2":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-upload",{staticClass:"image-uploader",attrs:{data:e.dataObj,multiple:!1,"show-file-list":!1,"on-success":e.handleImageSuccess,drag:"",action:"https://httpbin.org/post"}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或"),i("em",[e._v("点击上传")])])]),i("div",{staticClass:"image-preview image-app-preview"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[i("img",{attrs:{src:e.imageUrl}}),i("div",{staticClass:"image-preview-action"},[i("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])]),i("div",{staticClass:"image-preview"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[i("img",{attrs:{src:e.imageUrl}}),i("div",{staticClass:"image-preview-action"},[i("i",{staticClass:"el-icon-delete",on:{click:e.rmImage}})])])])],1)},n=[],l=(i("d3b7"),i("b775"));function s(){return Object(l["a"])({url:"/qiniu/upload/token",method:"get"})}var o={name:"SingleImageUpload3",props:{value:{type:String,default:""}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value}},methods:{rmImage:function(){this.emitInput("")},emitInput:function(e){this.$emit("input",e)},handleImageSuccess:function(e){this.emitInput(e.files.file)},beforeUpload:function(){var e=this,t=this;return new Promise((function(i,a){s().then((function(a){var n=a.data.qiniu_key,l=a.data.qiniu_token;t._data.dataObj.token=l,t._data.dataObj.key=n,e.tempUrl=a.data.qiniu_url,i(!0)})).catch((function(e){console.log(e),a(!1)}))}))}}},r=o,c=(i("1f5f"),i("2877")),u=Object(c["a"])(r,a,n,!1,null,"51598cb2",null);t["a"]=u.exports},b804:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[i("div",{class:e.className,style:{top:e.isSticky?e.stickyTop+"px":"",zIndex:e.zIndex,position:e.position,width:e.width,height:e.height+"px"}},[e._t("default",[i("div",[e._v("sticky")])])],2)])},n=[],l=(i("a9e3"),{name:"Sticky",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{active:!1,position:"",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)},methods:{sticky:function(){this.active||(this.position="fixed",this.active=!0,this.width=this.width+"px",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position="",this.width="auto",this.active=!1,this.isSticky=!1},handleScroll:function(){var e=this.$el.getBoundingClientRect().width;this.width=e||"auto";var t=this.$el.getBoundingClientRect().top;t<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+"px")}}}),s=l,o=i("2877"),r=Object(o["a"])(s,a,n,!1,null,null,null);t["a"]=r.exports},c1f5:function(e,t,i){},dd2d:function(e,t,i){},f390:function(e,t,i){"use strict";i("c1f5")}}]);